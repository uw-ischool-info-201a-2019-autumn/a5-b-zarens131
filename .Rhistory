layout(title = "Shooting Incidents in the U.S.<br />(Hover for info)",
geo = geo)
p
geo <- list(
scope = "usa",
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80")
)
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("red", "orangered", "red", "red2", "red4"),
color = ~num_impacted, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_impacted)) %>%
colorbar(title = "Number of Victims") %>%
layout(title = "Shooting Incidents in the U.S.<br />(Hover for info)",
geo = geo)
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("red", "orangered", "red", "red2", "red4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims") %>%
layout(title = "Shooting Incidents in the U.S.<br />(Hover for info)",
geo = geo)
geo <- list(
scope = "usa",
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80")
)
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("red", "orangered", "red", "red2", "red4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims") %>%
layout(title = "Shooting Incidents in the U.S.<br />(Hover for info)",
geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x =
element_text(size  = 10,
angle = 45,
hjust = 1,
vjust = 1))
View(p)
int_map
# Place a line break between each piece of information ("<br>"): 1 point
geo <- list(
scope = "usa",
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80")
)
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />",
geo = geo)
int_map
geo <- list(scope = "usa_mainland", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />",
geo = geo)
int_map
geo <- list(scope = "states", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />",
geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x =
element_text(size  = 10,
angle = 45,
hjust = 1,
vjust = 1))
View(p)
int_map
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />",
geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x =
element_text(size  = 10,
angle = 45,
hjust = 1,
vjust = 1))
View(p)
int_map
geo <- list(scope = "usa", showland = TRUE, countrycolor = toRGB("gray80"))
int_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(
text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />",
"Number of deaths: ", num_killed, "<br />",
"Number of injured: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"),
color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text",
marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />",
geo = geo)
int_map
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("square"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />", geo = geo)
interactive_map
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />", geo = geo)
interactive_map
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />", geo = geo)
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Number Impacted from Shootings in the U.S.<br />", geo = geo)
interactive_map
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Impacted from U.S. Shootings <br />", geo = geo)
U.S.
interactive_map
# Zachary Arenson
#INFO 201 A5
#install packages and load from library
install.packages("dplyr")
install.packages("ggplot2")
install.packages("plotly")
library(dplyr)
library(ggplot2)
library(plotly)
library(lintr)
#Loading & Reading the df from data
mass_shooting_df <- read.csv("data/shootings-2018.csv", stringsAsFactors = FALSE)
View(mass_shooting_df)
# Part 1: Summary Info Code
# How many shooting events occurred?
shooting_num <- nrow(mass_shooting_df)
print(shooting_num)
# How many lives were lost?
total_lives_lost <- mass_shooting_df %>%
select(num_killed) %>%
summarise(lives_lost = sum(num_killed))
View(total_lives_lost)
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(city)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
# How many injured?
total_injured <- mass_shooting_df %>%
select(num_injured) %>%
summarise(total_hurt = sum(num_injured))
View(total_injured)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# Summary Table
summary_table <- mass_shooting_df %>%
group_by(state) %>%
summarize(sum = sum(num_killed)) %>%
arrange(-sum)
View(summary_table)
# Interactive map
#set map and color for data to display on.
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Areas Impacted from U.S. Shootings <br />", geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x = element_text(size  = 10, angle = 45, hjust = 1, vjust = 1))
View(p)
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
library(ggplot2)
library(plotly)
library(lintr)
#Loading & Reading the df from data
mass_shooting_df <- read.csv("data/shootings-2018.csv", stringsAsFactors = FALSE)
View(mass_shooting_df)
# Part 1: Summary Info Code
# How many shooting events occurred?
shooting_num <- nrow(mass_shooting_df)
print(shooting_num)
# How many lives were lost?
total_lives_lost <- mass_shooting_df %>%
select(num_killed) %>%
summarise(lives_lost = sum(num_killed))
View(total_lives_lost)
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(city)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
# How many injured?
total_injured <- mass_shooting_df %>%
select(num_injured) %>%
summarise(total_hurt = sum(num_injured))
View(total_injured)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# Summary Table
summary_table <- mass_shooting_df %>%
group_by(state) %>%
summarize(sum = sum(num_killed)) %>%
arrange(-sum)
View(summary_table)
# Interactive map
#set map and color for data to display on.
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Areas Impacted from U.S. Shootings <br />", geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x = element_text(size  = 10, angle = 45, hjust = 1, vjust = 1))
View(p)
p
interactive_map
install.packages("dplyr")
install.packages("ggplot2")
install.packages("plotly")
library(dplyr)
library(ggplot2)
library(plotly)
library(lintr)
#Loading & Reading the df from data
mass_shooting_df <- read.csv("data/shootings-2018.csv", stringsAsFactors = FALSE)
View(mass_shooting_df)
# Part 1: Summary Info Code
# How many shooting events occurred?
shooting_num <- nrow(mass_shooting_df)
print(shooting_num)
# How many lives were lost?
total_lives_lost <- mass_shooting_df %>%
select(num_killed) %>%
summarise(lives_lost = sum(num_killed))
View(total_lives_lost)
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(city)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
# How many injured?
total_injured <- mass_shooting_df %>%
select(num_injured) %>%
summarise(total_hurt = sum(num_injured))
View(total_injured)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# Summary Table
summary_table <- mass_shooting_df %>%
group_by(state) %>%
summarize(sum = sum(num_killed)) %>%
arrange(-sum)
View(summary_table)
# Interactive map
#set map and color for data to display on.
geo <- list(scope = "usa", showland = TRUE, landcolor = toRGB("gray95"), countrycolor = toRGB("gray80"))
#set data onto map (num of deaths/injured)
interactive_map <- plot_geo(mass_shooting_df, lat = ~lat, lon = ~long) %>%
add_markers(text = ~paste("State: ", state, "<br />", "City: ", city,  "<br />", "Death Total: ", num_killed, "<br />", "Injured Total: ", num_injured),
colors = c("blue", "darkblue", "blue", "blue2", "blue4"), color = ~num_injured + num_killed, symbol = I("circle"), hoverinfo = "text", marker = list(size = ~num_injured + num_killed)) %>%
colorbar(title = "Number of Victims<br /> (Mouse over = info)") %>%
layout(title = "Areas Impacted from U.S. Shootings <br />", geo = geo)
#plot
p <- ggplot(data = mass_shooting_df, aes(state, num_killed)) + geom_bar(stat="identity") + scale_x_discrete(labels = abbreviate) +
theme(axis.text.x = element_text(size  = 10, angle = 45, hjust = 1, vjust = 1))
View(p)
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(city)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
View(mass_shooting_df)
print(shooting_num)
View(total_lives_lost)
print(most_impacted_city)
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(city)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(city == max(city))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(impacted) %>%
summarise(sum = sum(impacted)) %>%
filter(city == max(city))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = max(impacted)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = max(impacted)) %>%
filter(impacted == max(impacted))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = max(impacted)) %>%
filter(sum == max(sum))
select(city, impacted)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = max(impacted)) %>%
filter(sum == max(sum))
select(city)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = max(impacted)) %>%
filter(sum == max(sum))
select(city)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(sum == max(sum))
select(city)
print(most_impacted_city)
setwd("~/GitHub/a5-b-zarens131/data")
setwd("~/GitHub/a5-b-zarens131/docs")
View(summary_table)
most_impacted_city <- mass_shooting_df %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(sum == max(sum)) %>%
select(city)
most_impacted_city <- mass_shooting_df %>%
group_by(city) %>%
summarise(sum = sum(total_impact)) %>%
filter(sum == max(sum)) %>%
select(city)
# Data impact total
shootings_data <- mass_shooting_df %>%
mutate(total_impact = (num_killed + number_injured))
# Which city was most impacted by shootings (make sure to clarify  how you are measuring "impact")?
most_impacted_city <- mass_shooting_df %>%
group_by(city) %>%
summarise(sum = sum(total_impact)) %>%
filter(sum == max(sum)) %>%
select(city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(impacted == max(sum))
select(city)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(impacted == max(sum))
select(city)
print(most_impacted_city)
print(most_impacted_city)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(impacted)) %>%
filter(impacted == max(sum))
select(city)
most_impacted_city <- mass_shooting_df %>%
mutate(total_impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(total_impacted)) %>%
filter(impacted == max(sum))
select(city)
print(most_impacted_city)
most_impacted_city <- mass_shooting_df %>%
mutate(total_impacted = (num_killed + num_injured)) %>%
group_by(city) %>%
summarise(sum = sum(total_impacted)) %>%
filter(impacted == max(sum))
select(city)
print(most_impacted_city)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
# How many states are invovled
num_states <- mass_shooting_df %>%
select(state) %>%
summarise(risk_states = sum(state))
View(num_states)
num_states <- mass_shooting_df %>%
group_by(state) %>%
summarise(risk_states = sum(state))
filter(sum = max(state))
View(num_states)
setwd("~/GitHub/a5-b-zarens131")
